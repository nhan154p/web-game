# ğŸ—ºï¸ Tank.io Online - Architecture & Reference

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          TANK.IO ONLINE                         â”‚
â”‚                      Multi-layer Architecture                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLIENT LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    (Browser - Port 3000)                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Homepage   â”‚ â”‚ Auth System â”‚ â”‚ Game Engine  â”‚ â”‚   Shop   â”‚â”‚
â”‚  â”‚ (Radar BG) â”‚ â”‚ (Login/Reg) â”‚ â”‚ (Canvas API) â”‚ â”‚ & Menu   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Leaderboardâ”‚ â”‚  LocalStorageâ”‚ â”‚  WebSocket  â”‚ â”‚ Styling  â”‚â”‚
â”‚  â”‚   (Top 10) â”‚ â”‚  (User Data) â”‚ â”‚ (Socket.IO) â”‚ â”‚ (CSS3)   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  Languages: HTML5, CSS3, JavaScript ES6+, Canvas API          â”‚
â”‚  No Frameworks: Pure vanilla JS (easy to understand)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†• WebSocket
                          (Socket.IO)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SERVER LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  (Node.js + Express)                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Express.js Web Server                        â”‚ â”‚
â”‚  â”‚  â€¢ Serves static files (HTML/CSS/JS)                      â”‚ â”‚
â”‚  â”‚  â€¢ Handles REST API requests                              â”‚ â”‚
â”‚  â”‚  â€¢ CORS enabled for cross-origin                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Socket.IO WebSocket Server                   â”‚ â”‚
â”‚  â”‚  â€¢ Player connections/disconnections                      â”‚ â”‚
â”‚  â”‚  â€¢ Real-time movement updates                             â”‚ â”‚
â”‚  â”‚  â€¢ Shooting mechanics (bullets)                           â”‚ â”‚
â”‚  â”‚  â€¢ Collision detection                                    â”‚ â”‚
â”‚  â”‚  â€¢ Score/level updates                                    â”‚ â”‚
â”‚  â”‚  â€¢ Broadcasting game state (30ms loop)                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Game State Manager                            â”‚ â”‚
â”‚  â”‚  â€¢ Player list (Map)                                       â”‚ â”‚
â”‚  â”‚  â€¢ Projectiles array                                       â”‚ â”‚
â”‚  â”‚  â€¢ Room management                                         â”‚ â”‚
â”‚  â”‚  â€¢ Score tracking                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  Technologies: Node.js, Express.js, Socket.IO, JavaScript    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†• (Future)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DATA LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  LocalStorage      â”‚  â”‚  Node Memory       â”‚              â”‚
â”‚  â”‚  (Client-side)     â”‚  â”‚  (Server-side)     â”‚              â”‚
â”‚  â”‚                    â”‚  â”‚                    â”‚              â”‚
â”‚  â”‚ â€¢ User profile     â”‚  â”‚ â€¢ Connected playersâ”‚              â”‚
â”‚  â”‚ â€¢ Player stats     â”‚  â”‚ â€¢ Game state       â”‚              â”‚
â”‚  â”‚ â€¢ Owned items      â”‚  â”‚ â€¢ Leaderboard      â”‚              â”‚
â”‚  â”‚ â€¢ Session token    â”‚  â”‚ â€¢ Projectiles      â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                â”‚
â”‚  Future Upgrade: MongoDB or MySQL for persistence             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PLAYER INTERACTION FLOW                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. AUTHENTICATION FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Player  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚ Opens http://localhost:3000
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Homepage Loaded â”‚ â† CSS & radar.js rendered
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Click "Sign Up"
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Auth Page (signup)   â”‚ â† Form validation in auth.js
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Submit form
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ LocalStorage saves   â”‚ â† tankio_users array
   â”‚ user data           â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Redirect to login
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Login Page           â”‚ â† Verify credentials
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Submit & verified
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Generate token       â”‚ â† tankio_token set
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Redirect to menu
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Main Menu Loaded     â”‚ â† menu.js fetches user data
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. GAMEPLAY FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Player clicksâ”‚
   â”‚ "Play Now"   â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Load game.html
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Game Initializes     â”‚
   â”‚ â€¢ Tank spawns        â”‚ â† game.js Tank class
   â”‚ â€¢ Enemies spawn      â”‚ â† 5 AI tanks
   â”‚ â€¢ Socket connects    â”‚ â† socket.js connects
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€ Player presses WASD
        â”‚  â†“ gameLoop() updates tank position
        â”‚  â†“ Canvas re-renders
        â”‚  â†“ emitPlayerMove() to server
        â”‚
        â”œâ”€ Player clicks mouse
        â”‚  â†“ shootBullet() creates Bullet object
        â”‚  â†“ emitPlayerShoot() to server
        â”‚  â†“ Check collision
        â”‚  â†“ Damage enemy if hit
        â”‚  â†“ Score += 10
        â”‚
        â”œâ”€ Enemy defeated
        â”‚  â†“ Score += 100
        â”‚  â†“ New enemy spawns
        â”‚  â†“ Level updates = Score / 1000 + 1
        â”‚
        â””â”€ Player presses ESC
           â†“ Save score to user
           â†“ Redirect to menu.html

3. SHOP FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Player clicksâ”‚
   â”‚ "Shop"       â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Load shop.html
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ shop.js runs         â”‚
   â”‚ â€¢ Displays items     â”‚
   â”‚ â€¢ Shows player score â”‚
   â”‚ â€¢ Enables/disables   â”‚
   â”‚   buy buttons        â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Player clicks buy
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ buyItem() called     â”‚
   â”‚ â€¢ Check points       â”‚ â† Compare score
   â”‚ â€¢ Deduct score       â”‚ â† Update user object
   â”‚ â€¢ Mark owned         â”‚ â† Set localStorage
   â”‚ â€¢ Refresh page       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. LEADERBOARD FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Player clicksâ”‚
   â”‚ "Leaderboard"â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Load leaderboard.html
        â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ leaderboard.js runs  â”‚
   â”‚ â€¢ Get all users      â”‚ â† From localStorage
   â”‚ â€¢ Sort by score      â”‚
   â”‚ â€¢ Show top 10        â”‚
   â”‚ â€¢ Highlight top 3    â”‚ â† Gold/Silver/Bronze
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ FRONTEND COMPONENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  HTML Layer (6 pages)                                         â”‚
â”‚  â”œâ”€â”€ index.html (Homepage)                                    â”‚
â”‚  â”œâ”€â”€ auth.html (Login/Signup)                                 â”‚
â”‚  â”œâ”€â”€ menu.html (Main Menu)                                    â”‚
â”‚  â”œâ”€â”€ game.html (Game Canvas)                                  â”‚
â”‚  â”œâ”€â”€ shop.html (Shop)                                         â”‚
â”‚  â””â”€â”€ leaderboard.html (Leaderboard)                           â”‚
â”‚                                                                â”‚
â”‚  CSS Layer                                                    â”‚
â”‚  â””â”€â”€ style.css (all styling, responsive design)              â”‚
â”‚                                                                â”‚
â”‚  JavaScript Layer (8 modules)                                 â”‚
â”‚  â”œâ”€â”€ storage.js (LocalStorage API wrapper)                    â”‚
â”‚  â”œâ”€â”€ radar.js (Animated background)                           â”‚
â”‚  â”œâ”€â”€ auth.js (Authentication logic)                           â”‚
â”‚  â”œâ”€â”€ menu.js (Menu page controller)                           â”‚
â”‚  â”œâ”€â”€ game.js (Game engine & Tank class)                       â”‚
â”‚  â”œâ”€â”€ shop.js (Shop system)                                    â”‚
â”‚  â”œâ”€â”€ leaderboard.js (Leaderboard display)                     â”‚
â”‚  â””â”€â”€ socket.js (WebSocket client)                             â”‚
â”‚                                                                â”‚
â”‚  Tank Class (game.js)                                         â”‚
â”‚  â”œâ”€â”€ Constructor(x, y, username, isPlayer)                   â”‚
â”‚  â”œâ”€â”€ draw(ctx) â†’ Renders tank on canvas                      â”‚
â”‚  â”œâ”€â”€ update() â†’ Updates position based on keys               â”‚
â”‚  â””â”€â”€ Properties:                                              â”‚
â”‚      â”œâ”€â”€ x, y (position)                                      â”‚
â”‚      â”œâ”€â”€ angle (barrel rotation)                              â”‚
â”‚      â”œâ”€â”€ hp, maxHp (health)                                   â”‚
â”‚      â”œâ”€â”€ speed (movement speed)                               â”‚
â”‚      â””â”€â”€ tankType (standard/sniper/etc)                       â”‚
â”‚                                                                â”‚
â”‚  Bullet Class (game.js)                                       â”‚
â”‚  â”œâ”€â”€ Constructor(x, y, angle, color)                         â”‚
â”‚  â”œâ”€â”€ draw(ctx) â†’ Renders bullet on canvas                    â”‚
â”‚  â”œâ”€â”€ update() â†’ Updates position                              â”‚
â”‚  â”œâ”€â”€ isAlive() â†’ Checks if bullet is still valid             â”‚
â”‚  â””â”€â”€ Properties:                                              â”‚
â”‚      â”œâ”€â”€ x, y (position)                                      â”‚
â”‚      â”œâ”€â”€ angle (direction)                                    â”‚
â”‚      â””â”€â”€ lifetime (5000ms)                                    â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BACKEND COMPONENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  Express Server                                               â”‚
â”‚  â”œâ”€â”€ GET / â†’ Serve public folder                              â”‚
â”‚  â”œâ”€â”€ GET /api/health â†’ Server status                          â”‚
â”‚  â””â”€â”€ GET /api/leaderboard â†’ Top 10 players                    â”‚
â”‚                                                                â”‚
â”‚  Socket.IO Events                                             â”‚
â”‚  â”œâ”€â”€ player_join â†’ New player connected                       â”‚
â”‚  â”œâ”€â”€ player_move â†’ Position update                            â”‚
â”‚  â”œâ”€â”€ player_shoot â†’ Firing bullet                             â”‚
â”‚  â”œâ”€â”€ player_hit â†’ Collision detected                          â”‚
â”‚  â”œâ”€â”€ player_stats â†’ Score/level update                        â”‚
â”‚  â””â”€â”€ disconnect â†’ Player left game                            â”‚
â”‚                                                                â”‚
â”‚  Game State                                                   â”‚
â”‚  â”œâ”€â”€ players (Map) â†’ All connected players                    â”‚
â”‚  â”œâ”€â”€ projectiles (Array) â†’ Active bullets                     â”‚
â”‚  â”œâ”€â”€ rooms (Map) â†’ Game sessions                              â”‚
â”‚  â””â”€â”€ Update loop (30ms) â†’ Broadcasts game state               â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DATA STORAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  LocalStorage (Client)                                        â”‚
â”‚  â”œâ”€â”€ tankio_users â†’ [User objects array]                      â”‚
â”‚  â”‚   â””â”€â”€ Each user: {id, username, password, score, level}   â”‚
â”‚  â”œâ”€â”€ tankio_user â†’ Current logged-in user                     â”‚
â”‚  â”œâ”€â”€ tankio_token â†’ Session token                             â”‚
â”‚  â””â”€â”€ tankio_owned_[itemId] â†’ Item ownership                   â”‚
â”‚                                                                â”‚
â”‚  Server Memory (Node.js)                                      â”‚
â”‚  â”œâ”€â”€ Players Map â†’ { socketId: playerData }                   â”‚
â”‚  â”œâ”€â”€ Projectiles Array â†’ [bulletObjects]                      â”‚
â”‚  â””â”€â”€ Leaderboard Cache â†’ Top 10 players                       â”‚
â”‚                                                                â”‚
â”‚  Future: MongoDB/MySQL                                        â”‚
â”‚  â”œâ”€â”€ Users collection                                         â”‚
â”‚  â”œâ”€â”€ Game sessions                                            â”‚
â”‚  â”œâ”€â”€ Leaderboard scores                                       â”‚
â”‚  â””â”€â”€ Item purchases                                           â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Game State Flow

```
GAME STATE UPDATES

Frame N (30ms interval):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Receive player inputs            â”‚
â”‚    â€¢ WASD key states                â”‚
â”‚    â€¢ Mouse position                 â”‚
â”‚    â€¢ Click events                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Update player state              â”‚
â”‚    â€¢ Calculate new position         â”‚
â”‚    â€¢ Update barrel angle            â”‚
â”‚    â€¢ Process bullets fired          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Update bullets                   â”‚
â”‚    â€¢ Move each bullet               â”‚
â”‚    â€¢ Check collisions               â”‚
â”‚    â€¢ Remove dead bullets            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Update enemies                   â”‚
â”‚    â€¢ Move AI tanks                  â”‚
â”‚    â€¢ Check damage                   â”‚
â”‚    â€¢ Spawn new if dead              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Update game UI                   â”‚
â”‚    â€¢ HP bar                         â”‚
â”‚    â€¢ Energy bar                     â”‚
â”‚    â€¢ Score display                  â”‚
â”‚    â€¢ Level display                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Render frame                     â”‚
â”‚    â€¢ Clear canvas                   â”‚
â”‚    â€¢ Draw all tanks                 â”‚
â”‚    â€¢ Draw all bullets               â”‚
â”‚    â€¢ Draw UI elements               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Send to server (via Socket.IO)   â”‚
â”‚    â€¢ Player position                â”‚
â”‚    â€¢ Player angle                   â”‚
â”‚    â€¢ Score/level                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    Request Animation Frame
         â†“
Frame N+1 (30ms later)
```

## Color Scheme

```
Primary Colors:
  --primary-color: #00d4ff (Cyan/Electric Blue)
  --secondary-color: #ff006e (Hot Pink)
  --accent-color: #ffb400 (Gold)
  --success-color: #00ff41 (Neon Green)

Background Colors:
  --dark-bg: #0a0e27 (Very Dark Blue)
  --darker-bg: #05070f (Almost Black)
  --text-light: #e0e0e0 (Light Gray)
  --text-dark: #121212 (Near Black)

Usage:
  â€¢ Buttons: Cyan gradients
  â€¢ Borders: Cyan with transparency
  â€¢ Text: Light gray on dark backgrounds
  â€¢ Highlights: Gold for important info
  â€¢ Success: Neon green for positive actions
  â€¢ Errors: Red (#ff4444)
```

## Responsive Breakpoints

```
Desktop (1200px+)
â”œâ”€â”€ Full sidebar layouts
â”œâ”€â”€ 3-column grids
â”œâ”€â”€ Large fonts
â””â”€â”€ All animations enabled

Tablet (768px - 1199px)
â”œâ”€â”€ 2-column grids
â”œâ”€â”€ Medium fonts
â””â”€â”€ Simplified layouts

Mobile (480px - 767px)
â”œâ”€â”€ Single column layouts
â”œâ”€â”€ Smaller fonts
â””â”€â”€ Optimized touch targets

Small Mobile (< 480px)
â”œâ”€â”€ Full-width elements
â”œâ”€â”€ Minimum padding
â””â”€â”€ Compact UI
```

---

**This document provides a complete technical overview of Tank.io Online's architecture!**
